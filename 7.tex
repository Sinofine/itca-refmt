We recall that a ring $A$ is said to be \index{Noetherian ring}\textit{Noetherian} if it satisfies the following three equivalent conditions:

\begin{enumerate}[1.]
  \item Every non-empty set of ideals in $A$ has a maximal element.

  \item Every ascending chain of ideals in $A$ is stationary.

  \item Every ideal in $A$ is finitely generated.

\end{enumerate}

(The equivalence of these conditions was proved in \eqref{prop:6.1} and \eqref{prop:6.2}.)

Noetherian rings are by far the most important class of rings in commutative algebra: we have seen some examples already in Chapter 6. In this chapter we shall first show that Noetherian rings reproduce themselves under various familiar operations-in particular we prove the famous basis theorem of Hilbert. We then proceed to make a number of important deductions from the Noetherian condition, including the existence of primary decompositions.

\begin{proposition}\label{prop:7.1}
If $A$ is Noetherian and $\phi$ is a homomorphism of $A$ onto a ring $B$, then $B$ is Noetherian.
\end{proposition}

\begin{proof}
This follows from \eqref{prop:6.6}, since $B \cong A / \mathfrak{a}$, where $\mathfrak{a}=\operatorname{Ker}(\phi)$.
\end{proof}

\begin{proposition}\label{prop:7.2}
Let $A$ be a subring of $B$; suppose that $A$ is Noetherian and that $B$ is finitely generated as an $A$-module. Then $B$ is Noetherian (as a ring).
\end{proposition}

\begin{proof}
By \eqref{prop:6.5} $B$ is Noetherian as an $A$-module, hence also as a $B$-module.
\end{proof}

\begin{example}
$B=\mathbf{Z}[i]$, the ring of Gaussian integers. By \eqref{prop:7.2} $B$ is Noetherian. More generally, the ring of integers in any algebraic number field is Noetherian.
\end{example}

\begin{proposition}\label{prop:7.3}
If $A$ is Noetherian and $S$ is any multiplicatively closed subset of $A$, then $S^{-1} A$ is Noetherian.
\end{proposition}

\begin{proof}
By \eqref{prop:3.11} i) and $\left(1.17\right.$-iii) the ideals of $S^{-1} A$ are in one-to-one orderpreserving correspondence with the contracted ideals of $A$, hence satisfy the maximal condition. (Alternative proof: if $a$ is any ideal of $A$, then $a$ has a finite set of generators, say $x_{1}, \ldots, x_{n}$, and it is clear that $S^{-1} \mathfrak{a}$ is generated by $x_{1} / 1, \ldots$, $\left.x_{n} / 1.\right)$
\end{proof}

\begin{corollary}\label{cor:7.4}
If $A$ is Noetherian and $\mathfrak{p}$ is a prime ideal of $A$, then $A_{\mathfrak{p}}$ is Noetherian.
\end{corollary}

\begin{theorem}[Hilbert's Basis Theorem]\index{Hilbert basis theorem}\textit{Hilbert basis theorem}\label{thm:7.5}
If $A$ is Noetherian, then the polynomial ring $A[x]$ is Noetherian.
\end{theorem}

\begin{proof}
Let $\mathfrak{a}$ be an ideal in $A[x]$. The leading coefficients of the polynomials in a form an ideal $\mathfrak{I}$ in $A$. Since $A$ is Noetherian, $I$ is finitely generated, say by $a_{1}, \ldots, a_{n}$. For each $i=1, \ldots, n$ there is a polynomial $f_{i} \in A[x]$ of the form $f_{i}=a_{i} x_{i}+$ (lower terms). Let $r=\max _{i=1}^{n} r_{i}$. The $f_{i}$ generate an ideal $\mathfrak{a}^{\prime} \subseteq \mathfrak{a}$ in $A[x]$

Let $f=a x^{m}+$ (lower terms) be any element of $a$; we have $a \in \mathfrak{l}$. If $m \geqslant r$, write $a=\sum_{i=1}^{n} u_{i} a_{i}$, where $u_{i} \in A$; then $f-\sum u_{i} f_{i} x^{m-r_{i}}$ is in $a$ and has degree $<m$. Proceeding in this way, we can go on subtracting elements of $\mathfrak{a}^{\prime}$ from $f$ until we get a polynomial $g$, say, of degree $<r$; that is, we have $f=g+h$, where $h \in \mathfrak{a}^{\prime}$.

Let $M$ be the $A$-module generated by $1, x, \ldots, x^{r-1}$; then what we have proved is that $a=(a \cap M)+a^{\prime}$. Now $M$ is a finitely generated $A$-module, hence is Noetherian by \eqref{prop:6.5}, hence a $\cap M$ is finitely generated (as an $A$-module) by \eqref{prop:6.2}. If $g_{1}, \ldots, g_{m}$ generate $a \cap M$ it is clear that the $f_{i}$ and the $g_{j}$ generate $a$. Hence $\mathfrak{a}$ is finitely generated and so $A[x]$ is Noetherian.
\end{proof}

\begin{remark}
It is also true that $A$ Noetherian $\Rightarrow A[[x]]$ Noetherian $(A[[x]]$ being the ring of formal power series in $x$ with coefficients in $A$ ). The proof runs almost parallel to that of \eqref{thm:7.5} except that one starts with the terms of lowest degree in the power series belonging to $a$. See also \eqref{cor:10.27}.
\end{remark}

\begin{corollary}\label{cor:7.6}
If $A$ is Noetherian so is $A\left[x_{1}, \ldots, x_{n}\right]$.
\end{corollary}

\begin{proof}
By induction on $n$ from \eqref{thm:7.5}.
\end{proof}

\begin{corollary}\label{cor:7.7}
Let $B$ be a finitely-generated $A$-algebra. If $A$ is Noetherian, then so is $B$.

In particular, every finitely-generated ring, and every finitely generated algebra over a field, is Noetherian.
\end{corollary}

\begin{proof}
$B$ is a homomorphic image of a polynomial ring $A\left[x_{1}, \ldots, x_{n}\right]$, which is Noetherian by \eqref{cor:7.6}.
\end{proof}

\begin{proposition}\label{prop:7.8}
Let $A \subseteq B \subseteq C$ be rings. Suppose that $A$ is Noetherian, that $C$ is finitely generated as an A-algebra and that $C$ is either (i) finitely generated as a $B$-module or (ii) integral over $B$. Then $B$ is finitely generated as an $A$-algebra.
\end{proposition}

\begin{proof}
It follows from \eqref{prop:5.1} and \eqref{cor:5.2} that the conditions (i) and (ii) are equivalent in this situation. So we may concentrate on (i).

Let $x_{1}, \ldots, x_{m}$ generate $C$ as an $A$-algebra, and let $y_{1}, \ldots, y_{n}$ generate $C$ as a $B$-module. Then there exist expressions of the form

\[
\begin{aligned}
x_{i} & =\sum_{j} b_{i j} y_{j} & & \left(b_{i j} \in B\right) \\
y_{i} y_{j} & =\sum_{k} b_{i j k} y_{k} & & \left(b_{i j k} \in B\right) .
\end{aligned}
\]

Let $B_{0}$ be the algebra generated over $A$ by the $b_{i j}$ and the $b_{i j k}$. Since $A$ is Noetherian, so is $B_{0}$ by \eqref{cor:7.7}, and $A \subseteq B_{0} \subseteq B$.

Any element of $C$ is a polynomial in the $x_{i}$ with coefficients in $A$. Substituting (1) and making repeated use of (2) shows that each element of $C$ is a linear combination of the $y_{j}$ with coefficients in $B_{0}$, and hence $C$ is finitely generated as a $B_{0}$-module. Since $B_{0}$ is Noetherian, and $B$ is a submodule of $C$, it follows (by \eqref{prop:6.5} and \eqref{prop:6.2}) that $B$ is finitely generated as a $B_{0}$-module. Since $B_{0}$ is finitely generated as an $A$-algebra, it follows that $B$ is finitely-generated as an $A$-algebra.
\end{proof}

\begin{proposition}\label{prop:7.9}
Let $k$ be a field, $E$ a finitely generated $k$-algebra. If $E$ is a field then it is a finite algebraic extension of $k$.
\end{proposition}

\begin{proof}
Let $E=k\left[x_{1}, \ldots, x_{n}\right]$. If $E$ is not algebraic over $k$ then we can renumber the $x_{i}$ so that $x_{1}, \ldots, x_{r}$ are algebraically independent over $k$, where $r \geqslant 1$, and each of $x_{r+1}, \ldots, x_{n}$ is algebraic over the field $F=k\left(x_{1}, \ldots, x_{r}\right)$. Hence $E$ is a finite algebraic extension of $F$ and therefore finitely generated as an $F$-module. Applying \eqref{prop:7.8} to $k \subseteq F \subseteq E$, it follows that $F$ is a finitely generated $k$-algebra, say $F=k\left[y_{1}, \ldots, y_{s}\right]$. Each $y_{j}$ is of the form $f_{j} / g_{j}$, where $f_{j}$ and $g_{j}$ are polynomials in $x_{1}, \ldots, x_{r}$.

Now there are infinitely many irreducible polynomials in the ring $k\left[x_{1}, \ldots, x_{r}\right]$ (adapt Euclid's proof of the existence of infinitely many prime numbers). Hence there is an irreducible polynomial $h$ which is prime to each of the $g_{f}$ (for example, $h=g_{1} g_{2} \cdots g_{s}+1$ would do) and the element $h^{-1}$ of $F$ could not be a polynomial in the $y_{j}$. This is a contradiction. Hence $E$ is algebraic over $k$, and therefore finite algebraic.
\end{proof}

\begin{corollary}\label{cor:7.10}
Let $k$ be a field, $A$ a finitely generated $k$-algebra. Let $\mathfrak{m}$ be a maximal ideal of $A$. Then the field $A / \mathfrak{m}$ is a finite algebraic extension of $k$. In particular, if $k$ is algebraically closed then $A / \mathfrak{m} \cong k$.
\end{corollary}

\begin{proof}
Take $E=A / \mathfrak{m}$ in \eqref{prop:7.9}.
\end{proof}

\eqref{cor:7.10} is the so-called "weak" version of Hilbert's Nullstellensatz ( = theorem of the zeros). The proof given here is due to Artin and Tate. For its geometrical meaning, and the "strong" form of the theorem, see the Exercises at the end of this chapter.

\section{Primary decomposition in Noetherian rings}\index{Primary decomposition}

The next two lemmas show that every ideal $\neq(1)$ in a Noetherian ring has a primary decomposition.

\begin{definition}
An ideal $\mathfrak{a}$ is said to be \index{Ideal!irreducible}\textit{irreducible} if
\[
\mathfrak{a}=\mathfrak{b} \cap \mathfrak{c} \Rightarrow(\mathfrak{a}=\mathfrak{b} \text{ or } \mathfrak{a}=\mathfrak{c}) .
\]
\end{definition}

\begin{lemma}\label{lem:7.11}
In a Noetherian ring $A$ every ideal is a finite intersection of irreducible ideals.
\end{lemma}

\begin{proof}
Suppose not; then the set of ideals in $A$ for which the lemma is false is not empty, hence has a maximal element $a$. Since $a$ is reducible, we have $\mathfrak{a}=\mathfrak{b} \cap \mathfrak{c}$ where $\mathfrak{b} \supset \mathfrak{a}$ and $\mathfrak{c} \supset \mathfrak{a}$. Hence each of $\mathfrak{b}, \mathfrak{c}$ is a finite intersection of irreducible ideals and therefore so is $a$: contradiction.
\end{proof}

\begin{lemma}\label{lem:7.12}
In a Noetherian ring every irreducible ideal is primary.
\end{lemma}

\begin{proof}
By passing to the quotient ring, it is enough to show that if the zero ideal is irreducible then it is primary. Let $x y=0$ with $y \neq 0$, and consider the chain of ideals $\operatorname{Ann}(x) \subseteq \operatorname{Ann}\left(x^{2}\right) \subseteq \cdots$. By the a.c.c., this chain is stationary, i.e., we have $\operatorname{Ann}\left(x^{n}\right)=\operatorname{Ann}\left(x^{n+1}\right)=\cdots$ for some $n$. It follows that $\left(x^{n}\right) \cap(y)=0$; for if $a \in(y)$ then $a x=0$, and if $a \in\left(x^{n}\right)$ then $a=b x^{n}$, hence $b x^{n+1}=0$, hence $b \in \operatorname{Ann}\left(x^{n+1}\right)=\operatorname{Ann}\left(x^{n}\right)$, hence $b x^{n}=0$; that is, $a=0$. Since $(0)$ is irreducible and $(y) \neq 0$ we must therefore have $x^{n}=0$, and this shows that $(0)$ is primary.
\end{proof}

From these two lemmas we have at once

\begin{theorem}\label{thm:7.13}
In a Noetherian ring $A$ every ideal has a primary decomposition.
\end{theorem}

Hence all the results of Chapter 4 apply to Noetherian rings.

\begin{proposition}\label{prop:7.14}
In a Noetherian ring $A$, every ideal $\mathfrak{a}$ contains a power of its radical.
\end{proposition}

\begin{proof}
Let $x_{1}, \ldots, x_{k}$ generate $r(\mathfrak{a})$ : say $x_{i}^{n_{\mathfrak{t}}} \in \mathfrak{a}(1 \leqslant i \leqslant k)$. Let $m=$ $\sum_{i=1}^{k}\left(n_{i}-1\right)+1$. Then $r(\mathfrak{a})^{m}$ is generated by the products $x_{1}^{r_{1}} \cdots x_{k}^{p_{k}^{k}}$ with $\sum r_{i}=m$; from the definition of $m$ we must have $r_{i} \geqslant n_{i}$ for at least one index $i$, hence each such monomial lies in $a$, and therefore $r(\mathfrak{a})^{m} \subseteq \mathfrak{a}$.
\end{proof}

\begin{corollary}\label{cor:7.15}
In a Noetherian ring the nilradical is nilpotent.
\end{corollary}

\begin{proof}
Take $\mathfrak{a}=(0)$ in \eqref{prop:7.14}.
\end{proof}

\begin{corollary}\label{cor:7.16}
Let $A$ be a Noetherian ring, $\mathfrak{m}$ a maximal ideal of $A$, $\mathfrak{q}$ any ideal of $A$. Then the following are equivalent:
\begin{enumerate}[i)]
  \item $\mathfrak{q}$ is $\mathfrak{m}$-primary;
  \item $r(\mathfrak{q})=\mathfrak{m}$;
  \item $\mathfrak{m}^{n} \subseteq \mathfrak{q} \subseteq \mathfrak{m}$ for some $n>0$.
\end{enumerate}
\end{corollary}

\begin{proof}
\begin{enumerate}[i)]
  \item $\Rightarrow$ ii) is clear;
  \item $\Rightarrow$ i) from $\eqref{prop:4.2}$;
  \item $\Rightarrow$ iii) from $\eqref{prop:7.14}$;
  \item $\Rightarrow$ ii) by taking radicals: $\mathfrak{m}=r\left(\mathfrak{m}^{n}\right) \subseteq r(\mathfrak{q}) \subseteq r(\mathfrak{m})=\mathfrak{m}$.
\end{enumerate}
\end{proof}

\begin{proposition}\label{prop:7.17}
Let $\mathfrak{a} \neq(1)$ be an ideal in a Noetherian ring. Then the prime ideals which belong to $\mathfrak{a}$ are precisely the prime ideals which occur in the set of ideals $(\mathfrak{a}: x)(x \in A)$.
\end{proposition}

\begin{proof}
By passing to $A / \mathfrak{a}$ we may assume that $\mathfrak{a}=0$. Let $\bigcap_{i=1}^{n} \mathfrak{q}_{i}=0$ be a minimal primary decomposition of the zero ideal, and let $\mathfrak{p}_{\mathfrak{t}}$ be the radical of $\mathfrak{q}_{\mathfrak{i}}$. Let $\mathfrak{a}_{\mathfrak{i}}=\bigcap_{j \neq i} \mathfrak{q}_{j} \neq 0$. Then from the proof of \eqref{thm:4.5} we have $r(\operatorname{Ann}(x))=\mathfrak{p}_{i}$ for any $x \neq 0$ in $\mathfrak{a}_{\mathfrak{i}}$, so that $\operatorname{Ann}(x) \subseteq \mathfrak{p}_{i}$.

Since $\mathfrak{q}_{\mathfrak{i}}$ is $\mathfrak{p}_{\mathfrak{i}}$-primary, by \eqref{prop:7.14} there exists an integer $m$ such that $\mathfrak{p}_{\mathfrak{i}}^{m} \subseteq \mathfrak{q}_{\mathfrak{i}}$, and therefore $\mathfrak{a}_{i} \mathfrak{p}_{\mathfrak{i}}^{m} \subseteq \mathfrak{a}_{\mathfrak{i}} \cap \mathfrak{p}_{i}^{m} \subseteq \mathfrak{a}_{\mathfrak{i}} \cap \mathfrak{q}_{\mathfrak{i}}=0$. Let $m \geqslant 1$ be the smallest integer such that $\mathfrak{a}_{i} \mathfrak{p}_{i}^{m}=0$, and let $x$ be a non-zero element in $\mathfrak{a}_{i} \mathfrak{p}_{i}^{m-1}$. Then $\mathfrak{w}_{i} x=0$, therefore for such an $x$ we have $\operatorname{Ann}(x) \supseteq \mathfrak{p}_{\mathfrak{i}}$, and hence $\operatorname{Ann}(x)=\mathfrak{p}_{i}$.

Conversely, if $\operatorname{Ann}(x)$ is a prime ideal $\mathfrak{p}$, then $r(\operatorname{Ann}(x))=\mathfrak{p}$ and so by \eqref{thm:4.5} $\mathfrak{i}$ is a prime ideal belonging to $0$.
\end{proof}

\section{Exercises}

\begin{enumerate}[1.]
  \item Let $A$ be a non-Noetherian ring and let $\Sigma$ be the set of ideals in $A$ which are not finitely generated. Show that $\Sigma$ has maximal elements and that the maximal elements of $\Sigma$ are prime ideals.

  [Let $\mathfrak{a}$ be a maximal element of $\Sigma$, and suppose that there exist $x, y \in A$ such that $x \notin \mathfrak{a}$ and $y \notin \mathfrak{a}$ and $x y \in \mathfrak{a}$. Show that there exists a finitely generated ideal $\mathfrak{a}_{0} \subseteq \mathfrak{a}$ such that $\mathfrak{a}_{0}+(x)=\mathfrak{a}+(x)$, and that $\mathfrak{a}=\mathfrak{a}_{0}+x \cdot(\mathfrak{a}: x)$. Since $(\mathfrak{a}: x)$ strictly contains $\mathfrak{a}$, it is finitely generated and therefore so is $\mathfrak{a}$.]

  Hence a ring in which every prime ideal is finitely generated is Noetherian (I. S. Cohen).

  \item Let $A$ be a Noetherian ring and let $f=\sum_{n=0}^{\infty} a_{n} x^{n} \in A[[x]]$. Prove that $f$ is nilpotent if and only if each $a_{n}$ is nilpotent.

  \item Let $\mathfrak{a}$ be an irreducible ideal in a ring $A$. Then the following are equivalent:
    \begin{enumerate}[i)]
      \item $\mathfrak{a}$ is primary;
      \item for every multiplicatively closed subset $S$ of $A$ we have $\left(S^{-1} \mathfrak{a}\right)^{\mathfrak{c}}=(\mathfrak{a}: x)$ for some $x \in S$
      \item the sequence $\left(\mathfrak{a}: x^{n}\right)$ is stationary, for every $x \in A$.
    \end{enumerate}

  \item Which of the following rings are Noetherian?
    \begin{enumerate}[i)]
      \item The ring of rational functions of $z$ having no pole on the circle $|z|=1$.
      \item The ring of power series in $z$ with a positive radius of convergence.
      \item The ring of power series in $z$ with an infinite radius of convergence.
      \item The ring of polynomials in $z$ whose first $k$ derivatives vanish at the origin ( $k$ being a fixed integer).
      \item The ring of polynomials in $z, w$ all of whose partial derivatives with respect to $w$ vanish for $z=0$.
    \end{enumerate}
  In all cases the coefficients are complex numbers.

  \item Let $A$ be a Noetherian ring, $B$ a finitely generated $A$-algebra, $G$ a finite group of $A$-automorphisms of $B$, and $B^{G}$ the set of all elements of $B$ which are left fixed by every element of $G$. Show that $B^{G}$ is a finitely generated $A$-algebra.

  \item If a finitely generated ring $K$ is a field, it is a finite field.

  [If $K$ has characteristic 0, we have $\mathbf{Z} \subset \mathbf{Q} \subseteq K$. Since $K$ is finitely generated over $\mathbf{Z}$ it is finitely generated over $\mathbf{Q}$, hence by \eqref{prop:7.9} is a finitely generated $\mathbf{Q}$-module. Now apply \eqref{prop:7.8} to obtain a contradiction. Hence $K$ is of characteristic $p>0$, hence is finitely generated as a $Z /(p)$-algebra. Use \eqref{prop:7.9} to complete the proof.]

  \item Let $X$ be an affine algebraic variety given by a family of equations $f_{\alpha}\left(t_{1}, \ldots, t_{n}\right)$ $=0(\alpha \in I)$ (Chapter 1, Exercise 27). Show that there exists a finite subset $I_{0}$ of $I$ such that $X$ is given by the equations $f_{\alpha}\left(t_{1}, \ldots, t_{n}\right)=0$ for $\alpha \in I_{0}$.

  \item If $A[x]$ is Noetherian, is $A$ necessarily Noetherian?

  \item Let $A$ be a ring such that
    \begin{enumerate}[(1)]
      \item for each maximal ideal $\mathfrak{m}$ of $A$, the local ring $A_{\mathfrak{m}}$ is Noetherian;
      \item for each $x \neq 0$ in $A$, the set of maximal ideals of $A$ which contain $x$ is finite.
    \end{enumerate}
  Show that $A$ is Noetherian.

  [Let $\mathfrak{a} \neq 0$ be an ideal in $A$. Let $\mathfrak{m}_{1}, \ldots, \mathfrak{m}_{r}$ be the maximal ideals which contain $\mathfrak{a}$. Choose $x_{0} \neq 0$ in $\mathfrak{a}$ and let $\mathfrak{m}_{1}, \ldots, \mathfrak{m}_{r+s}$ be the maximal ideals which contain $x_{0}$. Since $\mathfrak{m}_{r+1}, \ldots, \mathfrak{m}_{r+s}$ do not contain $\mathfrak{a}$ there exist $x_{j} \in \mathfrak{a}$ such that $x_{j} \notin \mathfrak{m}_{r+j}(1 \leqslant j \leqslant s)$. Since each $A_{\mathfrak{m}_{l}}(1 \leqslant i \leqslant r)$ is Noetherian, the extension of $\mathfrak{a}$ in $A_{\mathrm{nt}_{t}}$ is finitely generated. Hence there exist $x_{3}+\ldots, \ldots, x_{t}$ in $\mathfrak{a}$ whose images in $A_{\mathfrak{m}_{t}}$ generate $A_{\mathfrak{m}_{i}} \mathfrak{a}$ for $i=1, \ldots, r$. Let $\mathfrak{a}_{0}=\left(x_{0}, \ldots, x_{t}\right)$. Show that $\mathfrak{a}_{0}$ and $\mathfrak{a}$ have the same extension in $A_{\mathfrak{m}}$ for every maximal ideal $\mathfrak{m}$, and deduce by \eqref{prop:3.9} that $\mathfrak{a}_{0}=\mathfrak{a}$.]

  \item Let $M$ be a Noetherian $A$-module. Show that $M[x]$ (Chapter 2, Exercise 6 ) is a Noetherian $A[x]$-module.

  \item Let $A$ be a ring such that each local ring $A_{\mathfrak{p}}$ is Noetherian. Is $A$ necessarily Noetherian?

  \item Let $A$ be a ring and $B$ a faithfully flat $A$-algebra (Chapter 3, Exercise 16). If $B$ is Noetherian, show that $A$ is Noetherian. [Use the ascending chain condition.]

  \item Let $f: A \rightarrow B$ be a ring homomorphism of finite type and let $f^{*}: \operatorname{Spec}(B) \rightarrow$ $\operatorname{Spec}(A)$ be the mapping associated with $f$. Show that the fibers of $f^{*}$ are Noetherian subspaces of $B$.

\setcounter{enumi}{13}
  \item Let $k$ be an algebraically closed field, let $A$ denote the polynomial ring $k\left[t_{1}, \ldots, t_{n}\right]$ and let $\mathfrak{a}$ be an ideal in $A$. Let $V$ be the variety in $k^{n}$ defined by the ideal $\mathfrak{a}$, so that $V$ is the set of all $x=\left(x_{1}, \ldots, x_{n}\right) \in k^{n}$ such that $f(x)=0$ for all $f \in \mathfrak{a}$. Let $I(V)$ be the ideal of $V$, i.e. the ideal of all polynomials $g \in A$ such that $g(x)=0$ for all $x \in V$. Then $I(V)=r(\mathfrak{a})$.

  [It is clear that $r(\mathfrak{a}) \subseteq I(V)$. Conversely, let $f \notin r(\mathfrak{a})$, then there is a prime ideal $\mathfrak{p}$ containing $\mathfrak{a}$ such that $f \notin \mathfrak{p}$. Let $\bar{f}$ be the image of $f$ in $B=A / \mathfrak{p}$, let $C=B_{\bar{f}}=$ $B[1 / \bar{f}]$, and let $\mathfrak{m}$ be a maximal ideal of $C$. Since $C$ is a finitely generated $k$-algebra we have $C / \mathfrak{m} \cong k$, by \eqref{prop:7.9}. The images $x_{i}$ in $C / \mathfrak{m}$ of the generators $t_{i}$ of $A$ thus define a point $x=\left(x_{1}, \ldots, x_{n}\right) \in k^{n}$, and the construction shows that $x \in V$ and $f(x) \neq 0$.]

\setcounter{enumi}{14}
  \item Let $A$ be a Noetherian local ring, $\mathfrak{m}$ its maximal ideal and $k$ its residue field, and let $M$ be a finitely generated $A$-module. Then the following are equivalent:
    \begin{enumerate}[i)]
      \item $M$ is free;
      \item $M$ is flat;
      \item the mapping of $\mathfrak{m} \otimes M$ into $A \otimes M$ is injective;
      \item $\operatorname{Tor}_{1}^{A}(k, M)=0$.
    \end{enumerate}

  [To show that iv) $\Rightarrow$ i), let $x_{1}, \ldots, x_{n}$ be elements of $M$ whose images in $M / \mathfrak{m} M$ form a $k$-basis of this vector space. By \eqref{prop:2.8}, the $x_{i}$ generate $M$. Let $F$ be a free $A$-module with basis $e_{1}, \ldots, e_{n}$ and define $\phi: F \rightarrow M$ by $\phi\left(e_{i}\right)=x_{i}$. Let $E=\operatorname{Ker}(\phi)$. Then the exact sequence $0 \rightarrow E \rightarrow F \rightarrow M \rightarrow 0$ gives us an exact sequence
  \[
  0 \longrightarrow k \otimes_{A} E \longrightarrow k \otimes_{A} F \stackrel{1 \otimes \phi}{\longrightarrow} k \otimes_{A} M \longrightarrow 0 .
  \]
  Since $k \otimes F$ and $k \otimes M$ are vector spaces of the same dimension over $k$, it follows that $1 \otimes \phi$ is an isomorphism, hence $k \otimes E=0$, hence $E=0$ by Nakayama's Lemma\index{Nakayama's lemma}\textit{Nakayama's lemma} ( $E$ is finitely generated because it is a submodule of $F$, and $A$ is Noetherian).]

\setcounter{enumi}{15}
  \item Let $A$ be a Noetherian ring, $M$ a finitely generated $A$-module. Then the following are equivalent:
    \begin{enumerate}[i)]
      \item $M$ is a flat $A$-module;
      \item $M_{\mathfrak{p}}$ is a free $A_{\mathfrak{p}}$-module, for all prime ideals $\mathfrak{p}$;
      \item $M_{\mathfrak{m}}$ is a free $A_{\mathfrak{m}}$-module, for all maximal ideals $\mathfrak{m}$.
    \end{enumerate}

  In other words, flat $=$ locally free. [Use Exercise 15.]

\setcounter{enumi}{16}
  \item Let $A$ be a Noetherian ring and $M$ a Noetherian $A$-module. Show (by imitating the proofs of \eqref{lem:7.11} and \eqref{lem:7.12}) that every submodule $N$ of $M$ has a primary decomposition (Chapter 4, Exercises 20--23).

\setcounter{enumi}{17}
  \item Let $A$ be a Noetherian ring, $\mathfrak{p}$ a prime ideal of $A$, and $M$ a finitely generated $A$-module. Show that the following are equivalent:
    \begin{enumerate}[i)]
      \item $\mathfrak{p}$ belongs to 0 in $M$;
      \item there exists $x \in M$ such that $\operatorname{Ann}(x)=\mathfrak{p}$;
      \item there exists a submodule of $M$ isomorphic to $A / \mathfrak{p}$.
    \end{enumerate}

  Deduce that there exists a chain of submodules
  \[
  0=M_{0} \subset M_{1} \subset \ldots \subset M_{r}=M
  \]
  such that each quotient $M_{i} / M_{i-1}$ is of the form $A / \mathfrak{p}_{i}$, where $\mathfrak{p}_{i}$ is a prime ideal of $A$.

\setcounter{enumi}{18}
  \item Let $\mathfrak{a}$ be an ideal in a Noetherian ring $A$. Let
  \[
  \mathfrak{a}=\bigcap_{i=1}^{r} \mathfrak{b}_{i}=\bigcap_{j=1}^{s} \mathfrak{c}_{j}
  \]
  be two minimal decompositions of $\mathfrak{a}$ as intersections of irreducible ideals. Prove that $r=s$ and that (possible after re-indexing the $\mathfrak{c}_{j}$) $r(\mathfrak{b}_{i})=r(\mathfrak{c}_{i})$ for all $i$. [Show that for each $i=1, \ldots, r$ there exists $j$ such that
  \[
  \mathfrak{a}=\mathfrak{b}_{1}\cap\cdots\cap \mathfrak{b}_{i-1}\cap \mathfrak{c}_{j}\cap \mathfrak{b}_{i+1}\cap\cdots\cap \mathfrak{b}_{r}.]
  \]

  State and prove an analogous result for modules.

\setcounter{enumi}{19}
  \item Let $X$ be a topological space and let $\mathscr{F}$ be the smallest collection of subsets of $X$ which contains all open subsets of $X$ and is closed with respect to the formation of finite intersections and complements.
    \begin{enumerate}[i)]
      \item Show that a subset $E$ of $X$ belongs to $\mathscr{F}$ if and only if $E$ is a finite union of sets of the form $U \cap C$, where $U$ is open and $C$ is closed.

      \item Suppose that $X$ is irreducible and let $E \in \mathscr{F}$. Show that $E$ is dense in $X$ (i.e., that $\overline{E}=X$) if and only if $E$ contains a non-empty open set in $X$.
    \end{enumerate}

\setcounter{enumi}{20}
  \item Let $X$ be a Noetherian topological space (Chapter 6, Exercise 5) and let $E \subseteq X$. Show that $E \in \mathscr{F}$ if and only if, for each irreducible closed set $X_{0} \subseteq X$, either $\overline{E \cap X_{0}} \neq X_{0}$ or else $E \cap X_{0}$ contains a non-empty open subset of $X_{0}$. [Suppose $E \notin \mathscr{F}$. Then the collection of closed sets $X^{\prime} \subseteq X$ such that $E \cap X^{\prime} \notin \mathscr{F}$ is not empty and therefore has a minimal element $X_{0}$. Show that $X_{0}$ is irreducible and then that each of the alternatives above leads to the conclusion that $E \cap X_{0} \in \mathscr{F}$.] The sets belonging to $\mathscr{F}$ are called the constructible subsets of $X$.

\setcounter{enumi}{21}
  \item Let $X$ be a Noetherian topological space and let $E$ be a subset of $X$. Show that $E$ is open in $X$ if and only if, for each irreducible closed subset $X_{0}$ in $X$, either $E \cap X_{0}=\varnothing$ or else $E \cap X_{0}$ contains a non-empty open subset of $X_{0}$. [The proof is similar to that of Exercise 21.]

\setcounter{enumi}{22}
  \item Let $A$ be a Noetherian ring, $f: A \rightarrow B$ a ring homomorphism of finite type (so that $B$ is Noetherian). Let $X=\operatorname{Spec}(A), Y=\operatorname{Spec}(B)$ and let $f^{*}: Y \rightarrow X$ be the mapping associated with $f$. Then the image under $f^{*}$ of a constructible subset $E$ of $Y$ is a constructible subset of $X$.

  [By Exercise 20 it is enough to take $E=U \cap C$ where $U$ is open and $C$ is closed in $Y$; then, replacing $B$ by a homomorphic image, we reduce to the case where $E$ is open in $Y$. Since $Y$ is Noetherian, $E$ is quasi-compact and therefore a finite union of open sets of the form $\operatorname{Spec}\left(B_{g}\right)$. Hence reduce to the case $E=Y$. To show that $f^{*}(Y)$ is constructible, use the criterion of Exercise 21. Let $X_{0}$ be an irreducible closed subset of $X$ such that $f^{*}(Y) \cap X_{0}$ is dense in $X_{0}$. We have $f^{*}(Y) \cap X_{0}=f^{*}\left(f^{*-1}\left(X_{0}\right)\right)$, and $f^{*-1}\left(X_{0}\right)=\operatorname{Spec}\left((A / \mathfrak{p}) \otimes_{A} B\right)$, where $X_{0}=\operatorname{Spec}(A / \mathfrak{p})$. Hence reduce to the case where $A$ is an integral domain and $f$ is injective. If $Y_{1}, \ldots, Y_{n}$ are the irreducible components of $Y$, it is enough to show that some $f^{*}\left(Y_{i}\right)$ contains a non-empty open set in $X$. So finally we are brought down to the situation in which $A, B$ are integral domains and $f$ is injective (and still of finite type); now use Chapter 5, Exercise 21 to complete the proof.]

\setcounter{enumi}{23}
  \item With the notation and hypotheses of Exercise 23, $f^{*}$ is an open mapping $\Leftrightarrow$ $f$ has the going-down property (Chapter 5, Exercise 10). [Suppose $f$ has the going-down property. As in Exercise 23, reduce to proving that $E=f^{*}(Y)$ is open in $X$. The going-down property asserts that if $\mathfrak{p} \in E$ and $\mathfrak{p}^{\prime} \subseteq \mathfrak{p}$, then $\mathfrak{p}^{\prime} \in E$: in other words, that if $X_{0}$ is an irreducible closed subset of $X$ and $X_{0}$ meets $E$, then $E \cap X_{0}$ is dense in $X_{0}$. By Exercises 20 and 22, $E$ is open in $X$.]

\setcounter{enumi}{24}
  \item Let $A$ be Noetherian, $f: A \rightarrow B$ of finite type and flat (i.e., $B$ is flat as an $A$-module). Then $f^{*}: \operatorname{Spec}(B) \rightarrow \operatorname{Spec}(A)$ is an open mapping. [Exercise 24 and Chapter 5, Exercise 11.]

\end{enumerate}

\subsection*{Grothendieck groups}\index{Grothendieck group}

\begin{enumerate}[1.]
\setcounter{enumi}{25}
  \item Let $A$ be a Noetherian ring and let $F(A)$ denote the set of all isomorphism classes of finitely generated $A$-modules. Let $C$ be the free abelian group generated by $F(A)$. With each short exact sequence $0 \rightarrow M^{\prime} \rightarrow M \rightarrow M^{\prime \prime} \rightarrow 0$ of finitely generated $A$-modules we associate the element $\left(M^{\prime}\right)-(M)+\left(M^{\prime \prime}\right)$ of $C$, where $(M)$ is the isomorphism class of $M$, etc. Let $D$ be the subgroup of $C$ generated by these elements, for all short exact sequences. The quotient group $C / D$ is called the Grothendieck group of $A$, and is denoted by $K(A)$. If $M$ is a finitely generated $A$-module, let $\gamma(M)$, or $\gamma_{A}(M)$, denote the image of $(M)$ in $K(A)$.
    \begin{enumerate}[i)]
      \item Show that $K(A)$ has the following universal property: for each additive function $\lambda$ on the class of finitely generated $A$-modules, with values in an abelian group $G$, there exists a unique homomorphism $\lambda_{0}: K(A) \rightarrow G$ such that $\lambda(M)=\lambda_{0}(\gamma(M))$ for all $M$.

      \item Show that $K(A)$ is generated by the elements $\gamma(A / \mathfrak{p})$, where $\mathfrak{p}$ is a prime ideal of $A$. [Use Exercise 18.]

      \item If $A$ is a field, or more generally if $A$ is a principal ideal domain, then $K(A) \cong \mathbf{Z}$.

      \item Let $f: A \rightarrow B$ be a finite ring homomorphism. Show that restriction of scalars gives rise to a homomorphism $f_{!}: K(B) \rightarrow K(A)$ such that $f_{!}\left(\gamma_{B}(N)\right)=\gamma_{A}(N)$ for a $B$-module $N$. If $g: B \rightarrow C$ is another finite ring homomorphism, show that $(g \circ f)_{!}=f_{!} \circ g_{!}$.
    \end{enumerate}

\setcounter{enumi}{26}
  \item Let $A$ be a Noetherian ring and let $F_{1}(A)$ be the set of all isomorphism classes of finitely generated flat $A$-modules. Repeating the construction of Exercise 26 we obtain a group $K_{1}(A)$. Let $\gamma_{1}(M)$ denote the image of $(M)$ in $K_{1}(A)$.
    \begin{enumerate}[i)]
      \item Show that tensor product of modules over $A$ induces a commutative ring structure on $K_{1}(A)$, such that $\gamma_{1}(M) \cdot \gamma_{1}(N)=\gamma_{1}(M \otimes N)$. The identity element of this ring is $\gamma_{1}(A)$.

      \item Show that tensor product induces a $K_{1}(A)$-module structure on the group $K(A)$, such that $\gamma_{1}(M) \cdot \gamma(N)=\gamma(M \otimes N)$.

      \item If $A$ is a (Noetherian) local ring, then $K_{1}(A) \cong \mathbf{Z}$.

      \item Let $f: A \rightarrow B$ be a ring homomorphism, $B$ being Noetherian. Show that extension of scalars gives rise to a ring homomorphism $f^{!}: K_{1}(A) \rightarrow K_{1}(B)$ such that $f^{!}\left(\gamma_{1}(M)\right)=\gamma_{1}\left(B \otimes_{A} M\right)$. [If $M$ is flat and finitely generated over $A$, then $B\otimes_{A} M$ is flat and finitely generated over $B$.] If $g: B \rightarrow C$ is another ring homomorphism (with $C$ Noetherian), then $(g \circ f)^{!}=f^{!} \circ g^{!}$.

      \item If $f: A \rightarrow B$ is a finite ring homomorphism then
      \[
      f_{!}\left(f^{!}(x) y\right)=x f_{!}(y)
      \]
      for $x \in K_{1}(A), y \in K(B)$. In other words, regarding $K(B)$ as a $K_{1}(A)$-module by restriction of scalars, the homomorphism $f^{!}$is a $K_{1}(A)$-module homomorphism.
    \end{enumerate}

  \begin{remark}
  Since $F_{1}(A)$ is a subset of $F(A)$ we have a group homomorphism $\epsilon: K_{1}(A) \rightarrow K(A)$, given by $\epsilon\left(\gamma_{1}(M)\right)=\gamma(M)$. If the ring $A$ is finite-dimensional and regular, i.e., if all its local rings $A_{\mathfrak{p}}$ are regular (Chapter 11 ) it can be shown that $\epsilon$ is an isomorphism.
  \end{remark}
\end{enumerate}
